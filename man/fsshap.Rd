% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fsshap.R
\name{fsshap}
\alias{fsshap}
\title{FS-SHAP - Main Feature Selection Function}
\usage{
fsshap(
  model,
  x,
  y,
  feature_names = NULL,
  task = NULL,
  threshold = 0.05,
  return_extended_data = FALSE,
  alpha = 1e-06,
  parallel = FALSE,
  n_cores = NULL
)
}
\arguments{
\item{model}{Trained tree-based model}

\item{x}{Data frame with validation features}

\item{y}{Numeric/factor target or column name}

\item{feature_names}{Character vector of feature names}

\item{task}{Character: "regression", "binary", "multiclass", or NULL (auto-detect)}

\item{threshold}{Numeric: p-value threshold for selection (default 0.05)}

\item{return_extended_data}{Logical: return SHAP values as well}

\item{alpha}{Numeric: regularization strength}

\item{parallel}{Logical: enable parallel processing for SHAP computation (default FALSE)}

\item{n_cores}{Integer: number of cores to use for parallel processing.
If NULL, uses all available cores minus 1. Only used if parallel=TRUE.}
}
\value{
Data frame (or list with SHAP values if extended) with feature statistics
}
\description{
Select features based on SHAP values and statistical significance
}
\examples{
\dontrun{
library(xgboost)
data(mtcars)
# Prepare data: convert categorical variables to factors
# In mtcars, 'vs' and 'am' are binary categorical variables
X <- mtcars[, -1]
X$vs <- as.factor(X$vs)
X$am <- as.factor(X$am)
y <- mtcars$mpg

# Convert to matrix for xgboost (factors will be encoded)
X_matrix <- model.matrix(~ . - 1, data = X)

# Train model
model <- xgboost::xgboost(
  data = X_matrix, label = y,
  nrounds = 50, verbose = 0
)

# For feature selection, use original data frame
result <- fsshap(
  model,
  X_matrix,
  y,
  threshold = 0.05
)
print(result)
}

}
